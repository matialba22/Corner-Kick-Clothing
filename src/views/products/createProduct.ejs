<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head')%>
    <link rel="stylesheet" href="/css/createProduct.css" />
  </head>
  <body>
    <%-include('../partials/header')%>
    <main>
      <div class="form-container">
        <form action="/shop/create" method="POST">
          <div class="input-container">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required />

            <label for="price">Price:</label>
            <input type="text" id="price" name="price" required />

            <label for="description">Description:</label>
            <textarea id="description" name="description" required></textarea>

            <label for="category">Category:</label>
            <select id="category" name="category">
              <option value="" disabled selected>- Select a category -</option>
              <% if (locals.oldData) { %>
                <% categories.forEach(category => { %>
                  <option 
                    value="<%= category.id %>" 
                    <%= (category.id==oldData.category)?'selected':'' %>>
                    <%=category.category_name %>
                  </option>
              <% }) %>
              <% } else { %>
                <% categories.forEach(category => { %>
                <option value="<%= category.id %>"><%=category.category_name %></option>
                <% }) %>
              <% } %>
            </select>

            <label for="brand">Brand:</label>
            <select id="brand" name="brand">
              <option value="" disabled selected>- Select a brand -</option>
              <% if (locals.oldData) { %>
                <% brand.forEach(brand => { %>
                  <option 
                    value="<%= brand.id %>" 
                    <%= (brand.id==oldData.brand)?'selected':'' %>>
                    <%=brand.brand_name %>
                  </option>
              <% }) %>
              <% } else { %>
                <% brands.forEach(brand => { %>
                <option value="<%= brand.id %>"><%=brand.brand_name %></option>
                <% }) %>
              <% } %>
            </select>

            <label for="size">Size:</label>
            <select id="size" name="size">
              <option value="" disabled selected>- Select a size -</option>
              <% if (locals.oldData) { %>
                <% sizes.forEach(size => { %>
                  <option 
                    value="<%= size.id %>" 
                    <%= (size.id==oldData.size)?'selected':'' %>>
                    <%=size.name %>
                  </option>
              <% }) %>
              <% } else { %>
                <% sizes.forEach(size => { %>
                <option value="<%= size.id %>"><%=size.size_name %></option>
                <% }) %>
              <% } %>
            </select>

            <label for="image">Image:</label>
            <input
              type="file"
              id="image"
              name="image"
              accept=".png"
              multiple
              required
            />

            <input type="submit" value="Create" />
          </div>
        </form>
      </div>
    </main>
    <%-include('../partials/footer')%>
  </body>
</html>
